<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="stylesheet" href="../styles/style.css" /><title>Against the web&apos;s grain</title></head><body><p><a href="..#notes">Notes</a><br />2026/02/07</p><h1>Against the web's grain</h1><p>CSS can be contorted into almost any shape. But when you don't pay attention to its <a href="https://frankchimero.com/blog/2015/the-webs-grain/">grain</a>, it might start to creak, and sometimes, when you push a bit and expect it to respond gently to your touch, it doesn't bend gracefully, it breaks.</p><p>For a few months now, my design has been built around a dot grid pattern of 24pt by 24pt. All of the various elements were specified in terms of this <a href="https://monoskop.org/images/a/a4/Mueller-Brockmann_Josef_Grid_Systems_in_Graphic_Design_Raster_Systeme_fuer_die_Visuele_Gestaltung_English_German_no_OCR.pdf">typographic grid system</a>, with all line heights specified as multiples of 24pt. Well, <em>almost</em> all of the various elements, because there were two elements that resisted any attempts to align them on the grid: <code>img</code> and <code>pre</code> elements.</p><p><code>pre</code> elements could be grid-aligned, but only by sticking to the same restrictive line height that was used for the body text, which made the code blocks look either extremely cramped or loose. And with images taking up 100% of the content width, I would have needed to either crop or pad their height to multiples of the grid size, which is (to my knowledge) not possible without resorting to JS (which is how <a href="https://owickstrom.github.io/the-monospace-web/">The Monospace Web</a> does it, more details <a href="https://wickstrom.tech/2024-09-26-how-i-built-the-monospace-web.html#the-media-elements">here</a>).</p><p>I was trying to go against the web's grain by forcing elements to fit rules that made sense in print design but less so on the web. Not only was the design starting to creak, it was encrusted with enough ornamentation that it <a href="https://en.wikipedia.org/wiki/%C3%80_rebours">collapsed under its own weight</a>.</p><p>The solution is simple: Go with the grain. For most elements, that means aligning them to the grid, but for <code>pre</code> and <code>img</code> elements, it means suspending the grid and resuming it afterwards. Not only do these elements get the breathing room they need, the resulting design is also less likely to break in catastrophic ways, because each element is in charge of drawing its own grid background. (Previously, there were situations where margin collapse could lead to a misalignment that would then affect everything that followed). I also changed the link underlines and list bullet points to be grid-aligned:</p><h2>Pre, before & after</h2><img alt="website pre element before" src="./website_2026_02_07_pre_before.png"/><img alt="website pre element after" src="./website_2026_02_07_pre_after.png"/><h2>Img, before & after</h2><img alt="website img element before" src="./website_2026_02_07_img_before.png"/><img alt="website img element after" src="./website_2026_02_07_img_after.png"/><h2>Underlines + bullets, before & after</h2><img alt="website index before" src="./website_2026_02_07_index_before.png"/><img alt="website index after" src="./website_2026_02_07_index_after.png"/><footer>Want to become a better programmer? <a href="https://www.recurse.com/scout/click?t=764048f99cede394c1905c64e1545a5d">Join the Recurse Center!</a></footer></body></html>